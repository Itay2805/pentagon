#pragma once

#include <stdint.h>
#include <stivale2.h>
#include <stddef.h>

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Early initialization only services
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/**
 * Get a stivale2 tag
 *
 * @param tag_id    [IN] The tag to find
 */
void* get_stivale2_tag(uint64_t tag_id);

/**
 * Get a stivale2 module
 *
 * @param name      [IN] The name of the module we want
 */
struct stivale2_module* get_stivale2_module(const char* name);

/**
 * Get the ELF of the kernel, only valid while initializing
 * the kernel.
 */
void* get_kernel_file();

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Normal kernel services
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/**
 * Get the amount of cpus this machine has
 */
size_t get_cpu_count();
